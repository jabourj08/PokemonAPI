@model List<FavoritePokemon>

@{
    ViewData["Title"] = "Favorites";
}

<h1>Favorite Pok&eacute;mon</h1>

<table class="table table-bordered table-info shadow table-hover">
    <tr>
        <th class="text-center text-uppercase">Pok&eacute;mon</th>
        <th class="text-center text-uppercase">Nickname</th>
        <th class="text-center text-uppercase">Type</th>
        <th class="text-center text-uppercase">Stats</th>
        <th class="text-center text-uppercase">Height</th>
        <th class="text-center text-uppercase">Weight</th>
        <th class="text-center text-uppercase">Base Exp</th>
        <th class="text-center text-uppercase">Sprites</th>

        <th class="text-center text-uppercase"></th>
    </tr>

    @foreach (FavoritePokemon p in Model)
    {
        <tr>
            @*Capitalize Name*@
                @{
                    string nameUpper = "";
                    nameUpper += p.Nickname[0].ToString().ToUpper();
                    nameUpper += p.Nickname.Substring(1, p.Nickname.Length - 1);
                }
            <td class="align-middle text-center font-weight-bold">@nameUpper</td>
            <td class="align-middle text-center font-weight-bold">ViewBag.NickName @*CHANGE THIS*@ </td>
            <td class="align-middle text-center font-weight-bold">
                @{ for (int i = 0; i < p.Type.Length; i++)
                    {
                        @p.Type;

                        if (i != p.Type.Length - 1)
                        {
                            <br />
                        }
                    }
                }
            </td>
            <td>
                @{ for (int i = 0; i < p.Stats.Length; i++)
                    {
                        <div>@p.Stats</div>
                    }
                }
            </td>
            <td class="align-middle text-center font-weight-bold">@p.Height</td>
            <td class="align-middle text-center font-weight-bold">@p.Weight</td>
            <td class="align-middle text-center font-weight-bold">@p.BaseExp</td>

            <td class="align-middle text-center">
                Default<br />
                <img src="@p.Sprite" alt="@nameUpper" title="@nameUpper" /><br />
                Shiny<br />
                <img src="@p.Sprite" alt="Shiny @nameUpper" title="Shiny @nameUpper" />
            </td>
            
            
            
            
            
            <td class="align-middle text-center">
                <button class="btn-danger btn" onclick="confirmDelete()">Remove</button><br /><br />
                <a href="../Pokemon/UpdatePokemon?id=@p.Id"><button class="btn-warning btn">Update</button></a>


                <script type="text/javascript">
                    function confirmDelete() {
                        var url = '../Pokemon/RemoveFromFavorites?id=@p.Id';
                        var c1 = confirm("Are you sure you want to delete this task? OK=Yes, Cancel=No")
                        if (c1 == true) {
                            var c2 = confirm("Are you REALLY sure you want to delete this task?? OK=Yes, Cancel=No")
                            if (c2 == true) {
                                var c3 = confirm("Are you REALLY REALLY sure you want to delete this task??? OK=Yes, Cancel=No")
                                if (c3 == true) {
                                    window.location.href = url;
                                }
                            }
                        }
                    }
                </script>
            </td>

        </tr>
    }
</table>
<a href="../Pokemon/UpdatePokemon" class="btn-primary">Update Your Pokemons Nickname!</a>